---
interface GalleryImage {
  src: string;
  alt: string;
  span?: "normal" | "wide" | "tall";
}

interface Props {
  images: GalleryImage[];
  class?: string;
}

const { images, class: className = "" } = Astro.props;
const base = import.meta.env.BASE_URL;

const spanClasses = {
  normal: "",
  wide: "md:col-span-2",
  tall: "md:row-span-2"
};
---

<div class={`grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 ${className}`}>
  {images.map((image, index) => (
    <div
      class={`relative overflow-hidden rounded-2xl group ${spanClasses[image.span || "normal"]}`}
    >
      <img
        src={`${base}/${image.src}`}
        alt={image.alt}
        loading="lazy"
        decoding="async"
        class="w-full h-full object-cover aspect-square transition-transform duration-500 group-hover:scale-105"
      />
      <div class="absolute inset-0 bg-charcoal/0 group-hover:bg-charcoal/20 transition-colors duration-300" />
    </div>
  ))}
</div>
